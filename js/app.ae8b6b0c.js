(function(t){function n(n){for(var i,o,p=n[0],c=n[1],s=n[2],f=0,g=[];f<p.length;f++)o=p[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&g.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(n);while(g.length)g.shift()();return r.push.apply(r,s||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],i=!0,p=1;p<e.length;p++){var c=e[p];0!==a[c]&&(i=!1)}i&&(r.splice(n--,1),t=o(o.s=e[0]))}return t}var i={},a={app:0},r=[];function o(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)o.d(e,i,function(n){return t[n]}.bind(null,i));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="";var p=window["webpackJsonp"]=window["webpackJsonp"]||[],c=p.push.bind(p);p.push=n,p=p.slice();for(var s=0;s<p.length;s++)n(p[s]);var u=c;r.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";var i=e("85ec"),a=e.n(i);a.a},"0426":function(t,n,e){t.exports=e.p+"img/1-17.ab89fdf6.png"},"074d":function(t,n,e){t.exports=e.p+"img/1-39.3bac2d7e.png"},"090b":function(t,n,e){t.exports=e.p+"img/1-37.89a64f96.png"},"0cde":function(t,n,e){t.exports=e.p+"img/3-1-23.3bde2dfd.png"},"0e0e":function(t,n,e){t.exports=e.p+"img/3-1-11.91c8e335.png"},"10fc":function(t,n,e){t.exports=e.p+"img/1-08.06436e39.png"},1264:function(t,n,e){t.exports=e.p+"img/1-02.031f75b3.png"},"185d":function(t,n,e){t.exports=e.p+"img/3-1-12.af0ad7b0.png"},"1c2c":function(t,n,e){t.exports=e.p+"img/3-1-07.3af5bdc6.png"},"1d02":function(t,n,e){t.exports=e.p+"img/3-1-13.06c494a9.png"},"1d0e":function(t,n,e){t.exports=e.p+"img/1-07.25c520d7.png"},"213d":function(t,n,e){t.exports=e.p+"img/1-46.d8927754.png"},2229:function(t,n,e){t.exports=e.p+"img/3-1-31.41235bb2.png"},"232b":function(t,n,e){t.exports=e.p+"img/1-25.fc75333d.png"},2353:function(t,n,e){t.exports=e.p+"img/1-04.bcb97eaa.png"},2716:function(t,n,e){t.exports=e.p+"img/3-1-24.a4519fbb.png"},"28e2":function(t,n,e){t.exports=e.p+"img/1-11.6396fa4f.png"},"2ad7":function(t,n,e){t.exports=e.p+"img/1-27.0f9d0fbb.png"},"2e65":function(t,n,e){t.exports=e.p+"img/1-09.c3b79ff2.png"},"2f32":function(t,n,e){t.exports=e.p+"img/3-1-26.39586d1d.png"},"30eb":function(t,n,e){t.exports=e.p+"img/1-12.4019f9e7.png"},3168:function(t,n,e){t.exports=e.p+"img/3-1-05.73dea2eb.png"},3254:function(t,n,e){t.exports=e.p+"img/3-1-15.570c186c.png"},3469:function(t,n,e){t.exports=e.p+"img/1-20.fe6159af.png"},3557:function(t,n,e){t.exports=e.p+"img/1-42.d45e7296.png"},"3a69":function(t,n,e){t.exports=e.p+"img/1-36.28904e61.png"},"3d28":function(t,n,e){t.exports=e.p+"img/1-03.a52a86ba.png"},"3faa":function(t,n,e){t.exports=e.p+"img/1-43.198ad753.png"},"43e4":function(t,n,e){t.exports=e.p+"img/3-1-06.8b6b913b.png"},"44b2":function(t,n,e){t.exports=e.p+"img/1-23.75816513.png"},5096:function(t,n,e){t.exports=e.p+"img/1-52.10082141.png"},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),a=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"nav"},[i("div",{staticClass:"nav-item left"},[t._v(" 古劍奇譚 - 千秋戲模擬器 ")]),i("div",{staticClass:"nav-item nav-title"},[t._v(" 分數："+t._s(t.gameScore)+" ")]),i("div",{staticClass:"nav-item right"})]),i("div",{staticClass:"content-container"},[i("div",{staticClass:"leftMenu mobile-left"},[t._e(),i("div",{staticClass:"combine-main"},t._l(t.cardRule,(function(n,e){return i("div",{key:e,staticClass:"combine-content"},[i("div",{staticClass:"achievement"},[t._v(" "+t._s(n.name)+" "),i("b-badge",{attrs:{variant:"light"}},[t._v(t._s(n.point))]),t._v("： ")],1),t._l(t.findCard(n.package),(function(n,e){return i("div",{key:e},[i("h5",[!0===n.isActive?i("b-badge",{staticClass:"short-name",attrs:{pill:"",variant:"danger"},on:{click:function(e){return t.setSearchHandler(n.name)}}},[t._v(t._s(n.name))]):i("b-badge",{staticClass:"short-name",attrs:{pill:"",variant:"secondary"},on:{click:function(e){return t.setSearchHandler(n.name)}}},[t._v(t._s(n.name))])],1)])}))],2)})),0)]),i("div",{staticClass:"main mobile-main"},[i("div",{staticClass:"top"},[i("div",{staticClass:"search"},[i("b-input-group",{staticClass:"mb-2"},[i("b-input-group-prepend",{attrs:{"is-text":""}},[i("b-icon",{attrs:{icon:"search"}})],1),i("b-form-input",{attrs:{type:"search",placeholder:"搜尋卡牌"},model:{value:t.keyword,callback:function(n){t.keyword="string"===typeof n?n.trim():n},expression:"keyword"}}),i("b-input-group-append",[i("b-button",{attrs:{variant:"info"},on:{click:function(n){return t.playGame()}}},[t._v("開新局")])],1)],1),i("div",{staticClass:"areaCenter"},[i("span",[t._v("卡牌分類：")]),i("b-form-group",[i("b-form-checkbox-group",{attrs:{options:t.cardSeasonType,name:"flavour-1a"},model:{value:t.selectedSeason,callback:function(n){t.selectedSeason=n},expression:"selectedSeason"}})],1)],1)],1)]),t.autoRecommandCard.length>0?i("div",{staticClass:"auto-recommand"},[t._v(" 出牌推薦： "),t._l(t.autoRecommandCard,(function(n,e){return i("span",{key:e},[i("span",{class:t.displaySeason(n.type),on:{click:function(e){return t.cardHandler(n.id)}}},[t._v(" "+t._s(n.name)+" ")]),t.autoRecommandCard.length-1!==e?[t._v(" > ")]:t._e()],2)}))],2):t._e(),i("div",{staticClass:"main-list"},[!0===t.imgStatus?t._l(t.cardList,(function(n,a){return i("div",{key:a,staticClass:"list-img",on:{click:function(e){return t.cardHandler(n.id)}}},[i("img",{attrs:{src:e("e107")("./"+n.img),alt:n.name,loading:"lazy"}}),n.isActive?t._e():i("div",{staticClass:"cover"},[i("div",{staticClass:"mask"})])])})):[t._v(" Loading... ")]],2),t._m(0)])])])},r=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("span",{staticClass:"sm-note"},[t._v("Created and maintained by "),e("a",{attrs:{href:"",target:"_blank"}},[t._v("Kira5033")]),t._v(" @ 2020.03.15"),e("br"),t._v("This project is hosted on "),e("a",{attrs:{href:"",target:"_blank"}},[t._v("GitHub")]),t._v(". Any bug report or suggestion is welcome.")])}],o=(e("4de4"),e("c740"),e("4160"),e("c975"),e("fb6a"),e("a434"),e("b0c0"),e("159b"),{name:"App",data:function(){return{keyword:"",gameScore:0,selectedCard:[],selectedSeason:[1,2,3,4],imgStatus:!0,autoRecommandCard:[]}},computed:{cardList:function(){var t=this;return this.$store.getters["getCardList"].filter((function(n){return n.name.indexOf(t.keyword)>=0&&t.selectedSeason.indexOf(n.type)>=0}))},cardRule:function(){return this.$store.getters["getCardRule"]},baseCardList:function(){return this.$store.getters["getCardList"]},cardSeasonType:function(){return this.$store.getters["getSeasonType"]},sortType:{get:function(){return this.$store.getters["getSortType"]},set:function(t){this.$store.commit("updateSortType",parseInt(t))}}},methods:{cardHandler:function(t){var n=this,e=this.parseData(t),i=e.cardStatus,a=e.activeQty;this.$store.commit("updateCardStatus",{id:t,status:i}),this.cardRule.forEach((function(e,i){var r=e.package.findIndex((function(n){return n===t}));-1!==r&&n.$store.commit("updateRuleActiveQty",{index:i,qty:a})})),this.checkGameScore(),this.calcCardPrrority()},displaySeason:function(t){var n="";switch(t){case 1:n="season-spring";break;case 2:n="season-summer";break;case 3:n="season-fall";break;case 4:n="season-winter"}return n},findCard:function(t){return this.baseCardList.filter((function(n){return t.indexOf(n.id)>=0}))},setSearchHandler:function(t){this.keyword=t},parseData:function(t){var n=this.selectedCard.findIndex((function(n){return n===t})),e=null,i=0;return-1!==n?(this.selectedCard.splice(n,1),e=!1,i=1):(this.selectedCard.push(t),e=!0,i=-1),this.selectedCard.sort((function(t,n){return t-n})),{cardStatus:e,activeQty:i}},checkGameScore:function(){var t=this,n=0;this.cardRule.forEach((function(e,i){var a=!1,r=1;e.activeQty===e.package.length&&(r=0),0===e.activeQty&&(a=!0,n+=e.point),t.$store.commit("updateRuleStatus",{index:i,priority:r,status:a})})),this.gameScore=n},calcCardPrrority:function(){var t=this;this.autoRecommandCard=[],this.baseCardList.forEach((function(n){t.autoRecommandCard.push({id:n.id,name:n.name,priority:0,isActive:n.isActive,type:n.type})})),this.cardRule.forEach((function(n){if(1===n.priority&&n.package.length!==n.activeQty){var e=1;1===n.activeQty&&(e=n.point),t.findCard(n.package).forEach((function(n){!1===n.isActive&&(t.autoRecommandCard[n.id-1].priority+=e)}))}})),this.autoRecommandCard=this.autoRecommandCard.filter((function(t){return t.priority>0&&!1===t.isActive})),this.autoRecommandCard=this.autoRecommandCard.sort((function(t,n){return n.priority-t.priority}));var n=10,e=9;window.screen.width<=400&&(n=5,e=4),this.autoRecommandCard.length>n&&(this.autoRecommandCard=this.autoRecommandCard.slice(0,e))},playGame:function(){this.$store.dispatch("initialGame"),this.gameScore=0,this.autoRecommandCard=[]}},mounted:function(){this.playGame()}}),p=o,c=(e("034f"),e("2877")),s=Object(c["a"])(p,a,r,!1,null,null,null),u=s.exports,f=e("2f62"),g=e("bc3a"),d=e.n(g);i["default"].use(f["a"]);var m=new f["a"].Store({state:{cardRule:[],cardList:[],seasonType:[],sortType:2},getters:{getCardRule:function(t){return t.cardRule.sort((function(n,e){return 1===t.sortType?n.activeQty===e.activeQty?n.id-e.id:n.activeQty-e.activeQty:n.priority===e.priority?n.activeQty===e.activeQty?n.point===e.point?n.id-e.id:e.point-n.point:n.activeQty-e.activeQty:e.priority-n.priority}))},getCardList:function(t){return t.cardList},getSeasonType:function(t){return t.seasonType},getSortType:function(t){return t.sortType}},mutations:{setDefault:function(t,n){t.cardRule=n.rules,t.cardList=n.card,t.seasonType=n.season},setCardRule:function(t,n){t.cardRule=n},setCardList:function(t,n){t.cardList=n},updateCardStatus:function(t,n){var e=n.id,i=n.status;t.cardList[e-1].isActive=i},updateRuleActiveQty:function(t,n){var e=n.index,i=n.qty;t.cardRule[e].activeQty+=i},updateRuleStatus:function(t,n){var e=n.index,i=n.priority,a=n.status;t.cardRule[e].priority=i,t.cardRule[e].isActive=a},updateSortType:function(t,n){t.sortType=n},updateCardPriority:function(t,n){t.cardList[n].priority+=1}},actions:{initialGame:function(t){return d.a.get("./default.json").then((function(n){t.commit("setDefault",n.data)}))}},modules:{}}),l=e("5f5b"),b=e("b1e0");e("f9e3"),e("2dd8");i["default"].config.productionTip=!1,i["default"].use(l["a"]),i["default"].use(b["a"]),new i["default"]({store:m,render:function(t){return t(u)}}).$mount("#app")},6075:function(t,n,e){t.exports=e.p+"img/3-1-14.9b8eb655.png"},"60fb":function(t,n,e){t.exports=e.p+"img/1-48.01e0b10e.png"},"626b":function(t,n,e){t.exports=e.p+"img/3-1-18.a86503a7.png"},6302:function(t,n,e){t.exports=e.p+"img/1-38.5c6f7e34.png"},"64fa":function(t,n,e){t.exports=e.p+"img/3-1-27.0339f779.png"},"65e0":function(t,n,e){t.exports=e.p+"img/3-1-29.5744b023.png"},7329:function(t,n,e){t.exports=e.p+"img/1-05.1f6b53f6.png"},"74c7":function(t,n,e){t.exports=e.p+"img/1-19.ffcc6ff8.png"},7584:function(t,n,e){t.exports=e.p+"img/3-1-21.3ad72c8b.png"},7712:function(t,n,e){t.exports=e.p+"img/1-26.23d0f858.png"},"793b":function(t,n,e){t.exports=e.p+"img/1-47.e97b9ca8.png"},"83b6":function(t,n,e){t.exports=e.p+"img/1-40.cd263534.png"},"85ec":function(t,n,e){},"892e":function(t,n,e){t.exports=e.p+"img/1-01.c244358c.png"},"902f":function(t,n,e){t.exports=e.p+"img/1-45.82cf914d.png"},"90fd":function(t,n,e){t.exports=e.p+"img/1-14.9f224c10.png"},"937e":function(t,n,e){t.exports=e.p+"img/3-1-17.6eb006fe.png"},"946a":function(t,n,e){t.exports=e.p+"img/3-1-28.fed4fcf9.png"},9941:function(t,n,e){t.exports=e.p+"img/1-33.31ddbc95.png"},"9eb6":function(t,n,e){t.exports=e.p+"img/1-41.99548b05.png"},"9ff2":function(t,n,e){t.exports=e.p+"img/3-1-30.5b4fa591.png"},a6a2:function(t,n,e){t.exports=e.p+"img/1-22.06233fef.png"},ac86:function(t,n,e){t.exports=e.p+"img/3-1-02.8f04a2b9.png"},ad83:function(t,n,e){t.exports=e.p+"img/1-32.76c6fea3.png"},ad97:function(t,n,e){t.exports=e.p+"img/3-1-10.ca22c4a1.png"},b175:function(t,n,e){t.exports=e.p+"img/3-1-03.30474636.png"},b52d:function(t,n,e){t.exports=e.p+"img/3-1-20.a0d4693e.png"},b95f:function(t,n,e){t.exports=e.p+"img/3-1-04.6c050fa2.png"},be6d:function(t,n,e){t.exports=e.p+"img/1-24.81874d0d.png"},c189:function(t,n,e){t.exports=e.p+"img/3-1-22.7de5c172.png"},c501:function(t,n,e){t.exports=e.p+"img/1-10.e3c5310e.png"},caa6:function(t,n,e){t.exports=e.p+"img/1-06.e97b1ef4.png"},ccbe:function(t,n,e){t.exports=e.p+"img/3-1-16.28ce291c.png"},ccef:function(t,n,e){t.exports=e.p+"img/1-49.5c642f51.png"},cd10:function(t,n,e){t.exports=e.p+"img/1-51.d4b2831a.png"},ce04:function(t,n,e){t.exports=e.p+"img/1-31.5bedd2cf.png"},d395:function(t,n,e){t.exports=e.p+"img/1-18.a811b830.png"},d747:function(t,n,e){t.exports=e.p+"img/1-30.e4cff6be.png"},d8d8:function(t,n,e){t.exports=e.p+"img/3-1-09.557ebe14.png"},da12:function(t,n,e){t.exports=e.p+"img/3-1-25.a11e7ca4.png"},e07f:function(t,n,e){t.exports=e.p+"img/1-21.ab5f132a.png"},e0ed:function(t,n,e){t.exports=e.p+"img/1-13.2b8d1e8c.png"},e107:function(t,n,e){var i={"./1-01.png":"892e","./1-02.png":"1264","./1-03.png":"3d28","./1-04.png":"2353","./1-05.png":"7329","./1-06.png":"caa6","./1-07.png":"1d0e","./1-08.png":"10fc","./1-09.png":"2e65","./1-10.png":"c501","./1-11.png":"28e2","./1-12.png":"30eb","./1-13.png":"e0ed","./1-14.png":"90fd","./1-15.png":"e683","./1-16.png":"fd20","./1-17.png":"0426","./1-18.png":"d395","./1-19.png":"74c7","./1-20.png":"3469","./1-21.png":"e07f","./1-22.png":"a6a2","./1-23.png":"44b2","./1-24.png":"be6d","./1-25.png":"232b","./1-26.png":"7712","./1-27.png":"2ad7","./1-28.png":"fe7e","./1-29.png":"f809","./1-30.png":"d747","./1-31.png":"ce04","./1-32.png":"ad83","./1-33.png":"9941","./1-34.png":"ede8","./1-35.png":"fcdc","./1-36.png":"3a69","./1-37.png":"090b","./1-38.png":"6302","./1-39.png":"074d","./1-40.png":"83b6","./1-41.png":"9eb6","./1-42.png":"3557","./1-43.png":"3faa","./1-44.png":"f033","./1-45.png":"902f","./1-46.png":"213d","./1-47.png":"793b","./1-48.png":"60fb","./1-49.png":"ccef","./1-50.png":"f4e3","./1-51.png":"cd10","./1-52.png":"5096","./3-1-01.png":"f9b9","./3-1-02.png":"ac86","./3-1-03.png":"b175","./3-1-04.png":"b95f","./3-1-05.png":"3168","./3-1-06.png":"43e4","./3-1-07.png":"1c2c","./3-1-08.png":"eb23","./3-1-09.png":"d8d8","./3-1-10.png":"ad97","./3-1-11.png":"0e0e","./3-1-12.png":"185d","./3-1-13.png":"1d02","./3-1-14.png":"6075","./3-1-15.png":"3254","./3-1-16.png":"ccbe","./3-1-17.png":"937e","./3-1-18.png":"626b","./3-1-19.png":"f159","./3-1-20.png":"b52d","./3-1-21.png":"7584","./3-1-22.png":"c189","./3-1-23.png":"0cde","./3-1-24.png":"2716","./3-1-25.png":"da12","./3-1-26.png":"2f32","./3-1-27.png":"64fa","./3-1-28.png":"946a","./3-1-29.png":"65e0","./3-1-30.png":"9ff2","./3-1-31.png":"2229","./3-1-32.png":"f61e"};function a(t){var n=r(t);return e(n)}function r(t){if(!e.o(i,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=r,t.exports=a,a.id="e107"},e683:function(t,n,e){t.exports=e.p+"img/1-15.3120599b.png"},eb23:function(t,n,e){t.exports=e.p+"img/3-1-08.7eb0d4da.png"},ede8:function(t,n,e){t.exports=e.p+"img/1-34.fbe13287.png"},f033:function(t,n,e){t.exports=e.p+"img/1-44.af2e0097.png"},f159:function(t,n,e){t.exports=e.p+"img/3-1-19.161b221d.png"},f4e3:function(t,n,e){t.exports=e.p+"img/1-50.766f73d1.png"},f61e:function(t,n,e){t.exports=e.p+"img/3-1-32.836811a0.png"},f809:function(t,n,e){t.exports=e.p+"img/1-29.bee136b5.png"},f9b9:function(t,n,e){t.exports=e.p+"img/3-1-01.d88350d0.png"},fcdc:function(t,n,e){t.exports=e.p+"img/1-35.a897a890.png"},fd20:function(t,n,e){t.exports=e.p+"img/1-16.734a6a4f.png"},fe7e:function(t,n,e){t.exports=e.p+"img/1-28.7cf07912.png"}});
//# sourceMappingURL=app.ae8b6b0c.js.map